

<!DOCTYPE html>
<html lang="en">
<head>
<title>DSTI School Optimization</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" language="javascript" src="./public/data.json"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css' rel='stylesheet' />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.8/themes/default/style.min.css" />


<style>

.navbar-default {
background-color: #FFFFFF;
border-bottom: 0px;
border-top: 0px;
border-left: 0px;
border-right: 0px;
border-radius:0;
}

.navbar-brand {
height: 30px;
padding: 0px;
}
.navbar-brand>img {
  height: 50px;
  padding: 1px;
  width: auto;
}
.container {
    width: 100%;
    height: 100%;
    margin: auto;
}
.one {
    width: 300px;
    height: 10px;
    float: left;
}
.two {
   width: 100%;
   height: 900px;
   /* width: calc(100% - 50px); */
   /* height: calc(100vh - 100px); */
   border: 1px solid #ccc;
}
#tree {
  height: 170px;
  background-color: 'red';
}
@media (max-width: 767px) {
  .navbar-brand>img {
    height: 35px;
    padding: 1px;
    width: auto;
  }
}

</style>
</head>
<body>
<div id="main">
  <nav class="navbar navbar-default">
    <div class="pull-left container-fluid">
      <a class="navbar-brand"><img src="./public/file.jpeg" alt="DSTI" ></a>
    </div>
    <div class="pull-right container-fluid">
      <a class="navbar-brand"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSHxCPxy7nZx2_BHVmDSV1mS042LoetwT-o83u7NUwsPUMk3gqe" alt="DSTI"></a>
    </div>
  </nav>

<div id="Viz" class="container-fluid">
<div id ="DashboardsTop" class="row">
<div class="col-lg-12">
<section class = "container">
  <br>
  <div class="jumbotron mt-1" style="max-height:500px">
      <h3>School Bus Stops</h3>
      On August 9th, 2019, at 9pm, four people attempted to geolocate every school bus stop in Freetown, Sierra Leone. Three passengers tagged locations, as an experienced driver tracked down each stop. By 4:30am, over 90 stops had been visited. Below are lists by two coordinate takers. The stop names will be updated and corrected shortly.

      <p class="lead">
        <span id='desc'></span>
      </p>
    </div>
  </div>
  <div>
    <iframe id='kepler' class="two" src="https://kepler.gl/demo/map?mapUrl=https://dl.dropboxusercontent.com/s/n1k3yr6opkwpjfj/school-bus-stops.json" frameBorder="0"></iframe>
  </div>

</section>
</body>
<script>


$(function () { $('#jstree').jstree(); });
  setTimeout(() => {
    $('#jstree').jstree('select_node', 'national');
  }, 1000)

  $('#jstree').on("changed.jstree", function (e, data) {
  var term = data.node.id
  console.log(term, records[term], data, 'tttt')
  var prefix = "https://kepler.gl/demo/map?mapUrl=https://dl.dropboxusercontent.com/s/"
  let url = prefix + records[term].url + '.json'
  console.log(url)
  $('#kepler').attr('src', url);
  $('#desc').html(records[term].desc)
});

$('#jstree').on('select_node.jstree', function (e, data) {
    data.instance.toggle_node(data.node);
});
</script>
</html>
